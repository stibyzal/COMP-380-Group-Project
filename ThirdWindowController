package com.example.projcomp380;

import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.fxml.FXMLLoader;
import javafx.scene.Node;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.TextField;
import javafx.scene.image.Image;
import javafx.scene.image.ImageView;
import javafx.scene.text.Text;
import javafx.stage.Stage;

public class ThirdWindowController {

    @FXML
    private TextField addressTextField;

    @FXML
    private TextField cityTextField;

    @FXML
    private TextField zipTextField;

    @FXML
    private TextField countryTextField;

    @FXML
    private TextField countyTextField;

    @FXML
    private TextField emailText;

    @FXML
    private TextField billAddText;

    @FXML
    private TextField cvvText;

    @FXML
    private TextField expYearText;

    @FXML
    private TextField expMonthText;

    @FXML
    private TextField cardNumText;

    @FXML
    private TextField firstNameText;

    @FXML
    private TextField lastNameText;

    @FXML
    private TextField phoneNumText;

    @FXML
    private Text checkInLabel;

    @FXML
    private Text checkOutLabel;

    @FXML
    private Text roomTypeAndGuestsLabel;

    @FXML
    private Text nightsLabel;

    @FXML
    private Button cancelButton;

    @FXML
    private ImageView roomChosenPhoto;

    @FXML
    private Button bookButton;


    public Reservation finalRes = new Reservation();

    public void reservationLabels(){
        Image myImage = new Image(getClass().getResourceAsStream("/com/example/projcomp380/placeholder.jpg"), 200, 200, false, false);
        roomChosenPhoto.setImage(myImage);

        //reservation stuff

        roomTypeAndGuestsLabel.setText("Room type" + " room for " + finalRes.getNumGuests() + " guests");
        checkInLabel.setText(finalRes.getCheckInDate());
        checkOutLabel.setText(finalRes.getCheckOutDate());
        nightsLabel.setText(finalRes.getLengthOfStay() + " nights");


    }

    //this will go to the next window and updates all customer and payment info
    @FXML
    protected void reservationConfirmedClick(ActionEvent actionEvent) throws Exception {
        FXMLLoader fxmlLoader = new FXMLLoader(MainWindow.class.getResource("fourth-window.fxml"));
        Scene scene = new Scene(fxmlLoader.load());

        FourthWindowController fourthWindowController = fxmlLoader.getController();
        //reservation stuff
        fourthWindowController.finalFinalRes.setNumGuests(finalRes.getNumGuests());
        fourthWindowController.finalFinalRes.setLengthOfStay(finalRes.getLengthOfStay());
        fourthWindowController.finalFinalRes.setCheckInDate(finalRes.getCheckInDate());
        fourthWindowController.finalFinalRes.setCheckOutDate(finalRes.getCheckOutDate());

        //customer stuff
        fourthWindowController.finalCus.setName(firstNameText.getText());
        fourthWindowController.finalCus.setLastName(lastNameText.getText());
        fourthWindowController.finalCus.setEmail(emailText.getText());
        fourthWindowController.finalCus.setPhoneNumber(phoneNumText.getText());

        //pay stuff
        fourthWindowController.finalPay.setCardNumber(cardNumText.getText());
        fourthWindowController.finalPay.setExpirationMonth(expMonthText.getText());
        fourthWindowController.finalPay.setExpirationYear(expYearText.getText());
        fourthWindowController.finalPay.setCvvNumber(cvvText.getText());

        //address stuff
        fourthWindowController.finalAdd.setStreetName(addressTextField.getText());
        fourthWindowController.finalAdd.setCity(cityTextField.getText());
        fourthWindowController.finalAdd.setZipCode(Integer.parseInt(zipTextField.getText()));
        fourthWindowController.finalAdd.setCountry(countryTextField.getText());
        fourthWindowController.finalAdd.setCounty(countyTextField.getText());

        fourthWindowController.check();

        Stage stage = (Stage) ((Node) actionEvent.getSource()).getScene().getWindow();
        stage.setScene(scene);
        stage.show();
    }
}
